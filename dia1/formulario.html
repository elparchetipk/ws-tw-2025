<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Formulario de contacto avanzado con validaciones HTML5 y accesibilidad" />
    <meta
      name="author"
      content="Tu Nombre" />
    <title>Formulario de Contacto Avanzado | WorldSkills Web Tech</title>
    <link
      rel="stylesheet"
      href="styles.css" />
  </head>
  <body>
    <!-- Header con navegación -->
    <header class="main-header">
      <nav
        class="main-nav"
        role="navigation"
        aria-label="Navegación principal">
        <ul class="nav-list">
          <li>
            <a
              href="index.html"
              aria-label="Ir a página principal"
              >Inicio</a
            >
          </li>
          <li>
            <a
              href="#contact-form"
              aria-current="page"
              >Contacto</a
            >
          </li>
          <li>
            <a
              href="accesible.html"
              aria-label="Ir a landing accesible"
              >Landing</a
            >
          </li>
        </ul>
      </nav>
    </header>

    <!-- Contenido principal -->
    <main class="main-content">
      <!-- Sección Hero del formulario -->
      <section class="form-hero">
        <div class="hero-content">
          <h1>Formulario de Contacto Avanzado</h1>
          <p class="hero-subtitle">
            Conecta conmigo usando este formulario con validaciones HTML5
            nativas y técnicas de accesibilidad web
          </p>
          <div class="form-features">
            <ul class="features-list">
              <li>✅ Validaciones HTML5 nativas</li>
              <li>✅ Accesibilidad WCAG 2.1</li>
              <li>✅ Responsive design</li>
              <li>✅ Retroalimentación en tiempo real</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Formulario principal -->
      <section
        id="contact-form"
        class="contact-form-section">
        <div class="form-container">
          <h2>Envíame un Mensaje</h2>
          <p class="form-intro">
            Todos los campos marcados con
            <span class="required-indicator">*</span> son obligatorios.
          </p>

          <form
            id="advanced-contact-form"
            class="advanced-form"
            action="#"
            method="POST"
            novalidate
            aria-describedby="form-instructions">
            <div
              id="form-instructions"
              class="sr-only">
              Formulario de contacto. Completa todos los campos requeridos y
              presiona enviar.
            </div>

            <!-- Información personal -->
            <fieldset class="form-fieldset">
              <legend>Información Personal</legend>

              <div class="form-row">
                <div class="form-group">
                  <label for="first-name">
                    Nombre
                    <span
                      class="required-indicator"
                      aria-label="requerido"
                      >*</span
                    >
                  </label>
                  <input
                    type="text"
                    id="first-name"
                    name="firstName"
                    required
                    minlength="2"
                    maxlength="50"
                    pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+"
                    aria-describedby="first-name-help first-name-error"
                    autocomplete="given-name" />
                  <small
                    id="first-name-help"
                    class="form-help">
                    Ingresa tu nombre (solo letras, 2-50 caracteres)
                  </small>
                  <div
                    id="first-name-error"
                    class="form-error"
                    role="alert"
                    aria-live="polite"></div>
                </div>

                <div class="form-group">
                  <label for="last-name">
                    Apellido
                    <span
                      class="required-indicator"
                      aria-label="requerido"
                      >*</span
                    >
                  </label>
                  <input
                    type="text"
                    id="last-name"
                    name="lastName"
                    required
                    minlength="2"
                    maxlength="50"
                    pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+"
                    aria-describedby="last-name-help last-name-error"
                    autocomplete="family-name" />
                  <small
                    id="last-name-help"
                    class="form-help">
                    Ingresa tu apellido (solo letras, 2-50 caracteres)
                  </small>
                  <div
                    id="last-name-error"
                    class="form-error"
                    role="alert"
                    aria-live="polite"></div>
                </div>
              </div>

              <div class="form-group">
                <label for="email">
                  Email
                  <span
                    class="required-indicator"
                    aria-label="requerido"
                    >*</span
                  >
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  maxlength="254"
                  aria-describedby="email-help email-error"
                  autocomplete="email" />
                <small
                  id="email-help"
                  class="form-help">
                  Ingresa un email válido (ejemplo: nombre@dominio.com)
                </small>
                <div
                  id="email-error"
                  class="form-error"
                  role="alert"
                  aria-live="polite"></div>
              </div>

              <div class="form-group">
                <label for="phone">
                  Teléfono <span class="optional-indicator">(opcional)</span>
                </label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  pattern="[0-9+\-\s\(\)]+"
                  maxlength="20"
                  aria-describedby="phone-help phone-error"
                  autocomplete="tel" />
                <small
                  id="phone-help"
                  class="form-help">
                  Formato: +57 300 123 4567 o 300 123 4567
                </small>
                <div
                  id="phone-error"
                  class="form-error"
                  role="alert"
                  aria-live="polite"></div>
              </div>

              <div class="form-group">
                <label for="company">
                  Empresa/Institución
                  <span class="optional-indicator">(opcional)</span>
                </label>
                <input
                  type="text"
                  id="company"
                  name="company"
                  maxlength="100"
                  aria-describedby="company-help"
                  autocomplete="organization" />
                <small
                  id="company-help"
                  class="form-help">
                  Nombre de tu empresa o institución educativa
                </small>
              </div>
            </fieldset>

            <!-- Información del mensaje -->
            <fieldset class="form-fieldset">
              <legend>Mensaje</legend>

              <div class="form-group">
                <label for="subject">
                  Asunto
                  <span
                    class="required-indicator"
                    aria-label="requerido"
                    >*</span
                  >
                </label>
                <select
                  id="subject"
                  name="subject"
                  required
                  aria-describedby="subject-help subject-error">
                  <option value="">-- Selecciona un asunto --</option>
                  <option value="consulta-general">Consulta General</option>
                  <option value="colaboracion">
                    Propuesta de Colaboración
                  </option>
                  <option value="feedback">Feedback sobre mi trabajo</option>
                  <option value="oportunidad-laboral">
                    Oportunidad Laboral
                  </option>
                  <option value="proyecto-conjunto">Proyecto Conjunto</option>
                  <option value="otro">Otro</option>
                </select>
                <small
                  id="subject-help"
                  class="form-help">
                  Selecciona el tema principal de tu mensaje
                </small>
                <div
                  id="subject-error"
                  class="form-error"
                  role="alert"
                  aria-live="polite"></div>
              </div>

              <div class="form-group">
                <label for="priority">
                  Prioridad
                  <span
                    class="required-indicator"
                    aria-label="requerido"
                    >*</span
                  >
                </label>
                <div
                  class="radio-group"
                  role="radiogroup"
                  aria-labelledby="priority-label">
                  <div class="radio-item">
                    <input
                      type="radio"
                      id="priority-low"
                      name="priority"
                      value="baja"
                      required />
                    <label for="priority-low">Baja</label>
                  </div>
                  <div class="radio-item">
                    <input
                      type="radio"
                      id="priority-medium"
                      name="priority"
                      value="media"
                      required />
                    <label for="priority-medium">Media</label>
                  </div>
                  <div class="radio-item">
                    <input
                      type="radio"
                      id="priority-high"
                      name="priority"
                      value="alta"
                      required />
                    <label for="priority-high">Alta</label>
                  </div>
                </div>
                <small class="form-help">
                  Selecciona la prioridad de tu mensaje
                </small>
              </div>

              <div class="form-group">
                <label for="message">
                  Mensaje
                  <span
                    class="required-indicator"
                    aria-label="requerido"
                    >*</span
                  >
                </label>
                <textarea
                  id="message"
                  name="message"
                  required
                  minlength="10"
                  maxlength="1000"
                  rows="6"
                  aria-describedby="message-help message-error message-counter"
                  placeholder="Escribe tu mensaje aquí..."></textarea>
                <div class="form-help-row">
                  <small
                    id="message-help"
                    class="form-help">
                    Describe tu consulta o mensaje (10-1000 caracteres)
                  </small>
                  <small
                    id="message-counter"
                    class="character-counter">
                    0/1000 caracteres
                  </small>
                </div>
                <div
                  id="message-error"
                  class="form-error"
                  role="alert"
                  aria-live="polite"></div>
              </div>

              <div class="form-group">
                <label for="attachment">
                  Archivo Adjunto
                  <span class="optional-indicator">(opcional)</span>
                </label>
                <input
                  type="file"
                  id="attachment"
                  name="attachment"
                  accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png"
                  aria-describedby="attachment-help" />
                <small
                  id="attachment-help"
                  class="form-help">
                  Formatos permitidos: PDF, DOC, DOCX, TXT, JPG, PNG (máx. 5MB)
                </small>
              </div>
            </fieldset>

            <!-- Preferencias -->
            <fieldset class="form-fieldset">
              <legend>Preferencias</legend>

              <div class="form-group">
                <label for="response-time">
                  Tiempo de respuesta esperado
                </label>
                <input
                  type="range"
                  id="response-time"
                  name="responseTime"
                  min="1"
                  max="7"
                  value="3"
                  step="1"
                  aria-describedby="response-time-help response-time-value" />
                <div class="range-labels">
                  <span>1 día</span>
                  <span id="response-time-value">3 días</span>
                  <span>1 semana</span>
                </div>
                <small
                  id="response-time-help"
                  class="form-help">
                  Desliza para seleccionar el tiempo de respuesta esperado
                </small>
              </div>

              <div class="form-group">
                <div class="checkbox-group">
                  <input
                    type="checkbox"
                    id="newsletter"
                    name="newsletter"
                    value="yes" />
                  <label for="newsletter">
                    Suscribirme a actualizaciones sobre mi progreso en el
                    bootcamp
                  </label>
                </div>
              </div>

              <div class="form-group">
                <div class="checkbox-group">
                  <input
                    type="checkbox"
                    id="terms"
                    name="terms"
                    value="accepted"
                    required
                    aria-describedby="terms-error" />
                  <label for="terms">
                    He leído y acepto los
                    <a
                      href="#"
                      target="_blank"
                      rel="noopener noreferrer">
                      términos y condiciones
                    </a>
                    <span
                      class="required-indicator"
                      aria-label="requerido"
                      >*</span
                    >
                  </label>
                </div>
                <div
                  id="terms-error"
                  class="form-error"
                  role="alert"
                  aria-live="polite"></div>
              </div>
            </fieldset>

            <!-- Botones de acción -->
            <div class="form-actions">
              <button
                type="reset"
                class="btn btn-secondary">
                Limpiar Formulario
              </button>
              <button
                type="submit"
                class="btn btn-primary">
                Enviar Mensaje
              </button>
            </div>
          </form>

          <!-- Mensaje de confirmación -->
          <div
            id="success-message"
            class="success-message"
            role="alert"
            aria-live="polite"
            style="display: none">
            <h3>¡Mensaje enviado con éxito!</h3>
            <p>Gracias por contactarme. Te responderé en el tiempo indicado.</p>
          </div>
        </div>
      </section>

      <!-- Información adicional -->
      <section class="additional-info">
        <div class="info-grid">
          <article class="info-card">
            <h3>¿Por qué este formulario?</h3>
            <p>
              Este formulario demuestra el uso de validaciones HTML5 nativas,
              técnicas de accesibilidad web y mejores prácticas de UX.
            </p>
          </article>

          <article class="info-card">
            <h3>Características Técnicas</h3>
            <ul>
              <li>Validaciones HTML5 nativas</li>
              <li>Atributos ARIA para accesibilidad</li>
              <li>Responsive design con CSS Grid</li>
              <li>Retroalimentación en tiempo real</li>
              <li>Manejo de errores personalizado</li>
            </ul>
          </article>

          <article class="info-card">
            <h3>Otras Formas de Contacto</h3>
            <address>
              <p><strong>Email:</strong> tu.email@example.com</p>
              <p><strong>GitHub:</strong> @tu-usuario</p>
              <p><strong>LinkedIn:</strong> /in/tu-perfil</p>
            </address>
          </article>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="footer-content">
        <p>&copy; 2024 Tu Nombre. Proyecto del Bootcamp WorldSkills</p>
        <p class="footer-note">
          <small
            >Formulario desarrollado con HTML5, CSS3 y JavaScript - Día 1</small
          >
        </p>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // Validaciones y funcionalidad del formulario
      document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('advanced-contact-form');
        const messageTextarea = document.getElementById('message');
        const messageCounter = document.getElementById('message-counter');
        const responseTimeRange = document.getElementById('response-time');
        const responseTimeValue = document.getElementById(
          'response-time-value'
        );

        // Contador de caracteres para textarea
        messageTextarea.addEventListener('input', function () {
          const currentLength = this.value.length;
          const maxLength = this.getAttribute('maxlength');
          messageCounter.textContent = `${currentLength}/${maxLength} caracteres`;

          if (currentLength > maxLength * 0.9) {
            messageCounter.style.color = '#e74c3c';
          } else {
            messageCounter.style.color = '#666';
          }
        });

        // Actualizar valor del rango de tiempo de respuesta
        responseTimeRange.addEventListener('input', function () {
          const days = this.value;
          let text = '';

          if (days == 1) text = '1 día';
          else if (days <= 3) text = `${days} días`;
          else if (days == 7) text = '1 semana';
          else text = `${days} días`;

          responseTimeValue.textContent = text;
        });

        // Validación personalizada en tiempo real
        const inputs = form.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
          input.addEventListener('blur', validateField);
          input.addEventListener('input', clearError);
        });

        function validateField(e) {
          const field = e.target;
          const errorElement = document.getElementById(field.id + '-error');

          if (!errorElement) return;

          let errorMessage = '';

          if (field.validity.valueMissing) {
            errorMessage = 'Este campo es requerido';
          } else if (field.validity.typeMismatch) {
            errorMessage = 'Por favor, ingresa un formato válido';
          } else if (field.validity.tooShort) {
            errorMessage = `Mínimo ${field.minLength} caracteres`;
          } else if (field.validity.tooLong) {
            errorMessage = `Máximo ${field.maxLength} caracteres`;
          } else if (field.validity.patternMismatch) {
            errorMessage = 'El formato ingresado no es válido';
          }

          if (errorMessage) {
            errorElement.textContent = errorMessage;
            field.setAttribute('aria-invalid', 'true');
            field.classList.add('error');
          } else {
            errorElement.textContent = '';
            field.setAttribute('aria-invalid', 'false');
            field.classList.remove('error');
          }
        }

        function clearError(e) {
          const field = e.target;
          const errorElement = document.getElementById(field.id + '-error');

          if (errorElement && field.validity.valid) {
            errorElement.textContent = '';
            field.setAttribute('aria-invalid', 'false');
            field.classList.remove('error');
          }
        }

        // Manejo del envío del formulario
        form.addEventListener('submit', function (e) {
          e.preventDefault();

          // Validar todos los campos
          let isValid = true;
          inputs.forEach(input => {
            if (input.required && !input.validity.valid) {
              isValid = false;
              validateField({ target: input });
            }
          });

          if (isValid) {
            // Simular envío exitoso
            setTimeout(() => {
              document.getElementById('success-message').style.display =
                'block';
              form.style.display = 'none';

              // Scroll al mensaje de éxito
              document.getElementById('success-message').scrollIntoView({
                behavior: 'smooth',
              });
            }, 1000);
          } else {
            // Scroll al primer error
            const firstError = form.querySelector('.error');
            if (firstError) {
              firstError.scrollIntoView({
                behavior: 'smooth',
                block: 'center',
              });
              firstError.focus();
            }
          }
        });

        // Limpiar formulario
        form.addEventListener('reset', function () {
          // Limpiar errores
          const errorElements = form.querySelectorAll('.form-error');
          errorElements.forEach(error => (error.textContent = ''));

          // Limpiar clases de error
          const errorFields = form.querySelectorAll('.error');
          errorFields.forEach(field => {
            field.classList.remove('error');
            field.setAttribute('aria-invalid', 'false');
          });

          // Resetear contador
          messageCounter.textContent = '0/1000 caracteres';
          messageCounter.style.color = '#666';

          // Resetear rango
          responseTimeValue.textContent = '3 días';
        });
      });
    </script>
  </body>
</html>
